<!DOCTYPE html>
<html>
<head>
    <title>Policy Management System</title>
</head>
<body>
    <h1>Policy Management System</h1>

    <h2>Upload Policy Data</h2>
    <form action="http://localhost:3000/api/upload" method="post" enctype="multipart/form-data">
        <input type="file" name="file" required>
        <button type="submit">Upload</button>
    </form>

    <hr>

    <h2>Search Policy Info by Username</h2>
    <form action="http://localhost:3000/api/search" method="get">
        <label for="username">Username:</label>
        <input type="text" id="username" name="username" required>
        <button type="submit">Search</button>
    </form>

    <hr>

    <h2>Aggregated Policy by User</h2>
    <button onclick="getAggregatedPolicy()">Get Aggregated Policy</button>
    <div id="aggregatedPolicy"></div>

    <script>
        async function getAggregatedPolicy() {
            const response = await fetch('http://localhost:3000/api/aggregatedPolicy');
            const data = await response.json();
            const aggregatedPolicyDiv = document.getElementById('aggregatedPolicy');
            aggregatedPolicyDiv.innerHTML = JSON.stringify(data, null, 2);
        }
    </script>
</body>
</html>
